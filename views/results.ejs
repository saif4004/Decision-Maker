<!DOCTYPE html>
<html lang="en">
<head>
  <title>Users</title>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://fonts.googleapis.com/css2?family=Bungee+Tint&family=Pangolin&family=Permanent+Marker&family=Rubik+Wet+Paint&family=Silkscreen:wght@400;700&display=swap" rel="stylesheet">


  <link rel="stylesheet" href="/vendor/normalize-4.1.1.css">
  <link rel="stylesheet" href="/vendor/border-box.css">
  <link rel="stylesheet" href="/styles/main.css">
  <link rel="stylesheet" href="/styles/layout.css">

  <script src="/vendor/jquery-3.0.0.js"></script>
</head>
<body>
  <nav>
    <ul class="nav_bar">
      <li><a href="Register.ejs">Register</a></li>
      <li><a href="index.ejs">Home</a></li>
    </ul>
  </nav>
  <section id="results_section">
  <h1>Poll Results</h1>

  <% let hasVotes = false; %>

  <!-- Check if there are any votes -->
  <% for (let i = 0; i < count.length; i++) { %>
    <% if (count[i] > 0) { %>
      <% hasVotes = true; %>
      <% break; %>
    <% } %>
  <% } %>

  <% if (!hasVotes) { %>
    <p>No votes have been cast yet.</p>
  <% } else { %>
    <ul>
      <% for (let i = 0; i < choices.length; i++) { %>
        <li>
          <%= choices[i] %>: <%= count[i] %> votes
        </li>
      <% } %>
    </ul>
  <% } %>
</section>
</body>
</html>
